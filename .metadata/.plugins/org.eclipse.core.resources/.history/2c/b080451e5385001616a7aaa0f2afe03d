import java.awt.Component;
import java.awt.Dimension;
import java.awt.Font;
import java.awt.datatransfer.DataFlavor;
import java.awt.datatransfer.Transferable;

import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.TransferHandler;



public class ButtonHandler {
	public JPanel subcontentPane;
	public JScrollPane scrollPane;
	public int totalday=7;
	public int totalslot=7;
	public int totalpos=6;
	
	JComboBox boxRoom[][][] = new JComboBox[10][10][10];
    JButton btn[][][] = new JButton[10][10][10];
    JLabel lblTeacher[][][] = new JLabel[10][10][10];
	
	public void ButtonHandler(){
	}
	
	public void SubPanelCreator(){
		
		//SubcontentPane
		subcontentPane = new JPanel();
		subcontentPane.setLayout(null);
		subcontentPane.setPreferredSize(new Dimension(1700,1600));
		
		//ScrollPane
		scrollPane = new JScrollPane();;
        scrollPane.setViewportView(subcontentPane);
        scrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);
        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);
        scrollPane.setBounds(120, 30, 1200, 650);
        
        //Add Day Label
        JLabel Day=new JLabel("SAT");
        Day.setBounds(0, 100, 35, 25);
        subcontentPane.add(Day);
        
        
        CreateButton();        
        
	}
	public void CreateButton(){
		int dayi,posi,sloti,pos=0;
		int boxleft=40,boxup=5;
        for(dayi=1;dayi<=totalday;dayi++){
        	for(posi=1;posi<=totalpos;posi++){
        		for(sloti=1;sloti<=totalslot;sloti++){
        			boxRoom[dayi][sloti][posi] = new JComboBox();
                    boxRoom[dayi][sloti][posi].addItem("Com.Lab");
            		boxRoom[dayi][sloti][posi].setBounds(boxleft+5, boxup, 70, 25);
            		subcontentPane.add(boxRoom[dayi][sloti][posi]);
                    
                    btn[dayi][sloti][posi] = new JButton(Dayi+"-XXX-"+sloti);
                    btn[dayi][sloti][posi].setBounds(boxleft+80, boxup, 100, 25);
                    btn[dayi][sloti][posi].setTransferHandler(new ValueImportTransferHandler());
                    subcontentPane.add(btn[dayi][sloti][posi]);
                    
                    
                    lblTeacher[dayi][sloti][posi] = new JLabel("TTT");
            		lblTeacher[dayi][sloti][posi].setFont(new Font("Tahoma",Font.PLAIN,14));
            		lblTeacher[dayi][sloti][posi].setBounds(boxleft+185,boxup,35,25);
            		subcontentPane.add(lblTeacher[dayi][sloti][posi]);
            		boxleft+=240;
        		}
        		boxleft=40;
        		boxup+=30;
        		
        	}
        	boxup+=20;
        	
        }
	}
	
	public static class ValueImportTransferHandler extends TransferHandler {

        public static final DataFlavor SUPPORTED_DATE_FLAVOR = DataFlavor.stringFlavor;

        public ValueImportTransferHandler() {
        }

        @Override
        public boolean canImport(TransferHandler.TransferSupport support) {
        	
        	return support.isDataFlavorSupported(SUPPORTED_DATE_FLAVOR);
            
        }

        @Override
        public boolean importData(TransferHandler.TransferSupport support) {
            boolean accept = false;
            if (canImport(support)) {
                try {
                    Transferable t = support.getTransferable();
                    Object value = t.getTransferData(SUPPORTED_DATE_FLAVOR);
                    if (value instanceof String) {
                        Component component = support.getComponent();
                        if (component instanceof JButton) {
                            ((JButton) component).setText(value.toString());
                            accept = true;
                        }
                    }
                } catch (Exception exp) {
                    exp.printStackTrace();
                }
            }
            return accept;
        }
    }



}
